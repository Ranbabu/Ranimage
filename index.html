<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Pro Search 2025</title>
<style>
  :root { --pri:#ff0055; --bg:#0f0f1a; --card:rgba(255,255,255,0.1); --text:#fff; }
  body { margin:0; padding:16px; background:var(--bg); color:var(--text); font-family:sans-serif; }
  h1 { text-align:center; background:linear-gradient(90deg, #ff0055, #00ddff); -webkit-background-clip:text; -webkit-text-fill-color:transparent; margin-bottom:20px; }
  
  .search-box { display:flex; gap:10px; margin-bottom:20px; max-width:600px; margin:0 auto 20px; }
  input { flex:1; padding:12px; border-radius:50px; border:none; background:var(--card); color:white; font-size:16px; }
  button { padding:12px 24px; border-radius:50px; border:none; background:var(--pri); color:white; font-weight:bold; cursor:pointer; }
  
  .tabs { display:flex; justify-content:center; gap:15px; margin-bottom:20px; }
  .tab { padding:8px 20px; border-radius:20px; background:var(--card); cursor:pointer; border:1px solid transparent; }
  .tab.active { background:var(--pri); border-color:white; }

  .grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(160px,1fr)); gap:12px; }
  .item { background:var(--card); border-radius:12px; overflow:hidden; position:relative; aspect-ratio:1; }
  .item img { width:100%; height:100%; object-fit:cover; }
  
  .play-icon { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:40px; height:40px; background:rgba(0,0,0,0.6); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:20px; pointer-events:none; }
  
  .modal { position:fixed; inset:0; background:rgba(0,0,0,0.9); display:none; place-items:center; z-index:100; }
  .modal.show { display:grid; }
  .modal-content { max-width:90%; max-height:80vh; text-align:center; }
  .modal img, .modal video { max-width:100%; max-height:70vh; border-radius:10px; }
  .close-btn { position:absolute; top:20px; right:20px; color:white; font-size:30px; cursor:pointer; }
  .action-btn { margin-top:10px; padding:10px 20px; background:white; color:black; text-decoration:none; display:inline-block; border-radius:5px; font-weight:bold; }
</style>
</head>
<body>

<h1>Search Engine 2025</h1>

<div class="search-box">
  <input type="text" id="q" placeholder="‡§∏‡§∞‡•ç‡§ö ‡§ï‡§∞‡•á‡§Ç (Images ‡§Ø‡§æ Videos)...">
  <button onclick="doSearch()">Search</button>
</div>

<div class="tabs">
  <div class="tab active" id="tImg" onclick="setTab('image')">Images</div>
  <div class="tab" id="tVid" onclick="setTab('video')">Videos</div>
</div>

<div id="loading" style="text-align:center;display:none;">Loading...</div>
<div class="grid" id="grid"></div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="close-btn" onclick="closeModal()">√ó</div>
  <div class="modal-content" id="modalBody"></div>
</div>

<script>
// ‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº‚ñº
// ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡§æ Render URL ‡§°‡§æ‡§≤‡§®‡§æ ‡§π‡•à (Step 4 ‡§ï‡•á ‡§¨‡§æ‡§¶)
const SERVER_URL = "YOUR_RENDER_URL_HERE"; 
// ‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤‚ñ≤

let currentType = 'image';

function setTab(type) {
  currentType = type;
  document.getElementById('tImg').className = type==='image'?'tab active':'tab';
  document.getElementById('tVid').className = type==='video'?'tab active':'tab';
  if(document.getElementById('q').value) doSearch();
}

async function doSearch() {
  const q = document.getElementById('q').value;
  if(!q) return alert('Enter query');
  
  document.getElementById('loading').style.display = 'block';
  document.getElementById('grid').innerHTML = '';

  try {
    // ‡§Ö‡§ó‡§∞ ‡§Ü‡§™‡§®‡•á URL ‡§®‡§π‡•Ä‡§Ç ‡§°‡§æ‡§≤‡§æ ‡§§‡•ã ‡§Ö‡§≤‡§∞‡•ç‡§ü ‡§Ü‡§è‡§ó‡§æ
    if(SERVER_URL.includes("YOUR_RENDER")) return alert("‡§ï‡•ã‡§° ‡§Æ‡•á‡§Ç Render URL ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç!");

    const res = await fetch(`${SERVER_URL}/api/search?q=${encodeURIComponent(q)}&type=${currentType}`);
    const data = await res.json();
    
    document.getElementById('loading').style.display = 'none';

    if(data.results) {
      data.results.forEach(item => {
        const div = document.createElement('div');
        div.className = 'item';
        div.onclick = () => openModal(item);
        
        // ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§≤‡•á ‡§Ü‡§á‡§ï‡§® ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
        const icon = item.isVideo ? '<div class="play-icon">‚ñ∂</div>' : '';
        div.innerHTML = `<img src="${item.thumbnail || item.image}" loading="lazy">${icon}`;
        document.getElementById('grid').appendChild(div);
      });
    }
  } catch(e) {
    alert('Error: ' + e.message);
    document.getElementById('loading').style.display = 'none';
  }
}

function openModal(item) {
  const modal = document.getElementById('modal');
  const body = document.getElementById('modalBody');
  
  if (item.isVideo) {
    // ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§ï‡•á ‡§≤‡§ø‡§è ‡§°‡§æ‡§Ø‡§∞‡•á‡§ï‡•ç‡§ü ‡§≤‡§ø‡§Ç‡§ï ‡§ñ‡•ã‡§≤‡§®‡§æ ‡§¨‡•á‡§π‡§§‡§∞ ‡§π‡•à ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø DDG ‡§°‡§æ‡§Ø‡§∞‡•á‡§ï‡•ç‡§ü MP4 ‡§ï‡§Æ ‡§¶‡•á‡§§‡§æ ‡§π‡•à
    body.innerHTML = `
      <img src="${item.thumbnail}" style="margin-bottom:10px;">
      <h3>${item.title}</h3>
      <a href="${item.url}" target="_blank" class="action-btn">Watch Video üîó</a>
    `;
  } else {
    body.innerHTML = `
      <img src="${item.image}">
      <br>
      <a href="${item.image}" download class="action-btn">Download</a>
    `;
  }
  modal.classList.add('show');
}

function closeModal() {
  document.getElementById('modal').classList.remove('show');
}
</script>

</body>
</html>
